/* style.css - 極簡深色主題 (更新於 2025-06-02) - 調整側邊欄內邊距 */

/* 1. 全域 box-sizing 重設 */
*, *::before, *::after {
    box-sizing: border-box;
}

/* 2. Body 基本樣式 */
body {
    margin: 0;
    padding: 0;
    font-family: 'Ancizar Serif', serif;
    font-weight: 400;
    line-height: 1.6;
    background-color: #222222;
    color: #f0f0f0;
}

/* 3. 頁首 (Header) 和頁尾 (Footer) 樣式 */
header {
    background-color: #222222;
    padding: 7em 1em 1.5em 1em;
    text-align: center;
    color: #f0f0f0;
}

header h1 {
    max-width: 696px; 
    margin: 0 auto;
    font-family: 'Ancizar Serif', serif;
    font-weight: 700;
    color: #ffffff;
    text-align: left;
}

footer {
    background-color: #4f4f4f;
    padding: 1.5em 1em;
    text-align: center;
    color: #f0f0f0;
    margin-top: 40px;
}

/* 4. 時間軸主容器 (.timeline-container) */
.timeline-container {
    display: flex;
    max-width: 900px;
    margin: 30px auto;
    padding: 0 15px;
    background-color: #222222;
    /* min-height: 200px; */ /* 移除除錯用最小高度 */
}

/* 5. 三欄佈局的子項目 (Flex Items) - 更新padding */
.timeline-left {
    flex-grow: 0;
    flex-shrink: 0;
    flex-basis: 10%;
    padding: 10px 5px; /* 減少 padding: 上下10px, 左右5px */
    background-color: #222222;
    /* min-height: 100px; */ /* 移除除錯用最小高度 */
    overflow: hidden;
}

.main-content {
    flex-grow: 0;
    flex-shrink: 0;
    flex-basis: 80%;
    padding: 20px; /* 中間欄 padding 保持不變或按需調整 */
    background-color: #222222;
    /* min-height: 100px; */ /* 移除除錯用最小高度 */
}

.timeline-right {
    flex-grow: 0;
    flex-shrink: 0;
    flex-basis: 10%;
    padding: 10px 5px; /* 減少 padding: 上下10px, 左右5px */
    background-color: #222222;
    /* min-height: 100px; */ /* 移除除錯用最小高度 */
    overflow: hidden;
}

/* 6. 中間主要內容區域的每個 <section> 樣式 */
.main-content section {
    padding: 25px 0;
    margin-bottom: 35px;
    background-color: #222222;
    border: none;
    border-radius: 0;
    box-shadow: none;
}

/* 區塊內的標題 (h2, h3) */
.main-content section h2,
.main-content section h3 {
    font-family: 'Ancizar Serif', serif;
    font-weight: 700;
    color: #ffffff;
    margin-top: 0;
    margin-bottom: 20px;
}
.main-content section h2 { font-size: 1.8em; }
.main-content section h3 { font-size: 1.5em; }

/* 7. 中間內容區塊內的圖片和圖片來源樣式 */
.content-image-container {
    width: calc(100% + 40px); /* .main-content padding 左右各20px，所以+40px */
    margin-left: -20px;       /* 對應 .main-content padding-left */
    margin-right: -20px;      /* 對應 .main-content padding-right */
    margin-bottom: 25px;
}

.content-image-container img {
    width: 100%;
    max-width: 100%;
    height: auto;
    display: block;
    border-radius: 0px;
}

.image-source {
    font-size: 0.75em;
    color: #bbbbbb;
    text-align: right;
    margin-top: 8px;
    padding-right: 20px; /* 讓此元素對齊 .main-content 的右內邊距 */
}

/* 8. 左側固定顯示區域樣式 (Sticky Display) - 更新padding */
#sticky-left-display {
    position: sticky;
    top: 20px;
    width: 100%;
    padding: 8px 5px; /* 減少 padding: 上下8px, 左右5px */
    background-color: #333333;
    border-radius: 6px;
    margin-bottom: 20px; /* 可調整與下方內容(如果有的話)的間距 */
    text-align: center;
    z-index: 10;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out;
    /* min-height: 50px; */ /* 移除除錯用最小高度 */
}

#sticky-left-display.is-visible {
    opacity: 1;
    visibility: visible;
}

#sticky-left-display .sticky-marker-large-text {
    font-family: 'Ancizar Serif', serif;
    font-size: 2.0em; /* 保持2.0em，觀察在新padding下是否足夠 */
    font-weight: 700;
    color: #ffffff;
    line-height: 1.1;
    overflow-wrap: break-word;
}

/* 右側固定顯示區域樣式 (Sticky Display) - 更新padding */
#sticky-right-display {
    position: sticky;
    top: 20px;
    width: 100%;
    padding: 8px 5px; /* 減少 padding: 上下8px, 左右5px */
    background-color: #333333;
    border-radius: 6px;
    margin-bottom: 20px;
    text-align: center;
    z-index: 10;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out;
    /* min-height: 50px; */ /* 移除除錯用最小高度 */
}

#sticky-right-display.is-visible {
    opacity: 1;
    visibility: visible;
}

#sticky-right-display .sticky-marker-large-text,
#sticky-right-display .sticky-marker-small-text {
    font-family: 'Ancizar Serif', serif;
    color: #ffffff; /* 大字和小字都用白色，或按需調整小字顏色 */
    overflow-wrap: break-word;
}
#sticky-right-display .sticky-marker-large-text { 
    font-size: 2.0em; /* 保持2.0em */
    font-weight: 700; 
    line-height: 1.1; 
    margin-bottom: 5px; 
}
#sticky-right-display .sticky-marker-small-text { 
    font-size: 0.85em; 
    color: #bbbbbb; 
    line-height: 1.3; 
}

/* 9. 隱藏原始的時間軸標記點列表 */
.timeline-left .timeline-event-marker,
.timeline-right .timeline-rank-marker {
    display: none;
}

/* 10. 註腳式連結樣式 */
.source-link {
    font-size: 0.75em;
    vertical-align: super;
    margin-left: 2px;
    text-decoration: none;
    color: #8ab4f8;
    padding: 0 2px;
}
.source-link:hover {
    text-decoration: underline;
    color: #99c1f9;
}